<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h3>JavaScript 作用域（scope）指的是 变量 存在的范围。</h3>
    目的是 为了提供程序的可靠性，更重要的是减少命名冲突。<br>
    在 ES5 中，Javascript 只有两种作用域：全局作用域 、 局部作用域（函数作用域）<br>

    <h3>变量作用域的分类</h3>
    在JavaScript中，根据作用域的不同，变量可以分为两种：全局变量、局部变量<br>

    <div>
        <h3>从执行效率来看全局变量和局部变量的区别</h3>
        1、全局变量：在任何一个地方都可以使用，只有在浏览器关闭的时候才会销毁，比较占内存空间<br>
        2、局部变量 ：只在函数内部使用，当其所在的代码块被执行时，会被初始化，当代码运行结束后，就会被就会销毁，比较更节省内存空间。
    </div>

    <script>

        var num = 10;  //全局作用域 全局变量

        function fn() {
            var num = 20;  //局部作用域（函数作用域） 局部变量
            console.log(num);
        }

        fn();

    </script>


    <div>
        <h3>Javascript 在 ES6 中，新增了块级作用域 ,什么是块级作用域 ？</h3>

        有花括号包裹的就是块级作用域 {} ，比如 if {} 、for{}: <br>
        1、比如在块级作用域 if{} 里面声明的变量，外面的是不能调用，调用就报错 <br>
        注意：但是现在我们用的是ES5 语法，所以在外面调用 num 不会报错
    </div>

    <script>

        if (4 > 2) {
            //这个 num 变量是在块级作用域{} 里面声明的，外面的是不能调用 num 的

            var num = 10;
        }
        console.log(num);
        //但是现在我们用的是ES5 语法，所以在外面调用 num 不会报错

    </script>

    <div>
        <h3>作用域链</h3>
        1、只要是代码，就至少有一个作用域 ：不是全局作用域，就是局部作用域<br>
        2、写在函数内部的局部作用域<br>
        3、如果函数中还有函数，那么在这个作用域中就又可以诞生一个作用域。<br>
        4、根据在内部函数可以访问外部函数变量的这种机制，
        用链式查找决定哪些数据能被内部函数访问，就称作作用域链

        <h3>到底什么是作用域链</h3>
        内部函数访问外部函数的变量，采用的是链式查找的方式来决定取那个值，这种结构我们称为作用域链。<br>
        内部函数在访问外部函数的变量时，采用的是链式查找的方式，一层一层的往外查找，<br>
        如果找到了才输出相应结果（就近原则取值）；没有找到，就继续往上找，找到顶端都没有找到就报错 未定义 。



    </div>
    <script>
        var num = 10; //变量num 属于 全局作用域
        function fn() {    //外部函数
            //这里的 变量num 属于 局部作用域
            var num = 20;
            function fun() {   //内部函数
                console.log(num);  //就近原则取值 所以输出 20
            }
            fun();
        };

        fn();

    </script>

</body>

</html>